<!DOCTYPE html>
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/adm}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div layout:fragment="corpo">
        <section>
            <nav>
                <h3>Lista de workers</h3>
            </nav>

            <div class="">
                <table class="w-full text-white">
                    <thead>
                        <tr class="bg-zinc-600">
                            <th class="px-4 py-2">#</th>
                            <th class="px-4 py-2">Nome</th>
                            <th class="px-4 py-2">CPF</th>
                            <th class="px-4 py-2">Função</th>
                            <th class="px-4 py-2">Salário</th>
                            <th class="px-4 py-2">Data de Nascimento</th>
                            <th class="px-4 py-2">Endereço</th>
                            <th class="px-4 py-2">Telefone</th>
                            <th class="px-4 py-2">Departamento</th>
                            <th class="px-4 py-2">Ações</th>
                        </tr>                
                    </thead>
                    <tbody>

                        <tr th:each="w : ${workers}" class="bg-zinc-800 hover:bg-zinc-700">
                            <td class="px-4 py-2" th:text="${w.id}">1</td>
                            <td class="px-4 py-2" th:text="${w.name}">Pane Silvio</td>
                            <td class="px-4 py-2" th:text="${w.cpf}">456789</td>
                            <td class="px-4 py-2" th:text="${w.role}">adm</td>
                            <td class="px-4 py-2" th:text="${w.salary}">456789</td>
                            <td class="px-4 py-2" th:text="${w.birthDate}">23/04/1998</td>
                            <td class="px-4 py-2" th:text="${w.address}">Rua Claudio Bochecha</td>
                            <td class="px-4 py-2" th:text="${w.telephone}">111111111</td>
                            <td class="px-4 py-2" th:text="${w.department.name}">Administração</td>
                            <td class="px-4 py-2">
                                <a th:href="@{/workers/editar/{id} (id=${w.id})}" role="button" class="bg-purple-400 hover:bg-purple-500 px-4 py-2 rounded-md">Editar</a>
                                <a th:href="@{/workers/excluir/{id} (id=${w.id})}" role="button" th:onclick="|if(confirm('Tem certeza que deseja excluir o funcionário?')) { location.href='/workers/excluir/'+${w.id} } else { return false; }|" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-md">Excluir</a>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </section>
    </div>
</body>

</html>